"use strict";(self.webpackChunkCampers_rent=self.webpackChunkCampers_rent||[]).push([[977],{550:(n,e,t)=>{t.r(e),t.d(e,{default:()=>J});var r=t(2791),o=t(4420),i=t(1087),a=t(2202),c=t(6171),l=t(1945),d=t(3512),s=t(5667);const p=n=>{n&&setTimeout((()=>s.OK.scrollTo(n,{duration:1e3,delay:0,smooth:!0,offset:-100})),300)};var x,h,u,g,v,m,f,b,w,j,y,Z,k=t(2093),P=t(1540),z=(t(8997),t(391)),C=t(5932),S=t(168),V=t(5216),B=t(9340),R=t(5509);const _=(0,V.iv)(x||(x=(0,S.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 5px;\n  text-align: center;\n  font-size: 12px;\n  font-weight: 500;\n  width: 100%;\n  height: 100%;\n  border-radius: 10px;\n  border: 1px solid var(--border-color);\n  padding: 10px;\n  color: var(--text-color);\n  cursor: pointer;\n  pointer-events: all;\n\n  @media screen and (min-width: 768px) {\n    font-size: 16px;\n  }\n\n  @media screen and (min-width: 1440px) {\n    font-size: 14px;\n    padding: 17px;\n  }\n"]))),q=V.ZP.div(h||(h=(0,S.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 50px;\n  padding: 50px 0;\n\n  @media screen and (min-width: 1440px) {\n    flex-direction: row;\n  }\n"]))),E=V.ZP.form(u||(u=(0,S.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 32px;\n  margin-top: 30px;\n"]))),F=V.ZP.button(g||(g=(0,S.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 10px;\n  font-size: 18px;\n  font-weight: 500;\n  align-self: flex-start;\n  color: var(--text-color);\n\n  @media screen and (min-width: 1440px) {\n    padding-left: 50px;\n    margin-bottom: -50px;\n  }\n"]))),L=V.ZP.label(v||(v=(0,S.Z)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  font-size: 16px;\n  font-weight: 500;\n  color: var(--light-text);\n\n  svg {\n    position: absolute;\n    top: 45px;\n    left: 15px;\n    fill: none;\n    z-index: 1;\n    stroke: var(--text-color);\n  }\n\n  .react-dropdown-select {\n    ","\n    padding: 15px;\n    padding-left: 40px;\n    opacity: 1;\n    color: var(--light-text);\n    transition: box-shadow var(--linear-transition);\n    background-color: var(--grey);\n    z-index: 1;\n\n    input {\n      color: var(--light-text);\n\n      &::placeholder {\n        color: var(--light-text);\n        opacity: 0.5;\n      }\n    }\n\n    &:focus-within {\n      box-shadow: 0 0 5px var(--accent-red);\n    }\n\n    svg {\n      display: none;\n    }\n  }\n\n  .react-dropdown-select-dropdown {\n    width: 100%;\n    background-color: var(--grey);\n    border-radius: 10px;\n    border: 2px solid var(--accent-red);\n  }\n\n  .react-dropdown-select-item {\n    border-bottom: 1px solid var(--light-text);\n\n    &:hover:not(.react-dropdown-select-item-selected) {\n      color: var(--white);\n      background-color: var(--accent-red);\n      opacity: 0.7;\n    }\n  }\n\n  .react-dropdown-select-item.react-dropdown-select-item-selected,\n  .react-dropdown-select-item.react-dropdown-select-item-active {\n    color: var(--white);\n    font-weight: bold;\n    background-color: var(--accent-red);\n  }\n"])),B.zq),N=V.ZP.div(m||(m=(0,S.Z)(["\n  font-size: 16px;\n  font-weight: 500;\n  color: var(--light-text);\n  display: flex;\n  flex-direction: column;\n  gap: 14px;\n"]))),A=V.ZP.label(f||(f=(0,S.Z)(["\n  font-size: 20px;\n  font-weight: 600;\n  line-height: 1.2;\n  color: var(--text-color);\n  pointer-events: none;\n\n  hr {\n    opacity: 0.3;\n    background-color: var(--border-color);\n    display: block;\n    margin: 24px 0;\n  }\n"]))),D=V.ZP.fieldset(b||(b=(0,S.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n  border: none;\n  padding: 0;\n"]))),G=V.ZP.div(w||(w=(0,S.Z)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: calc((100% - 2 * 10px) / 3);\n  height: 85px;\n\n  @media screen and (min-width: 768px) {\n    width: calc((100% - 4 * 10px) / 5);\n    height: 95px;\n  }\n\n  @media screen and (min-width: 1440px) {\n    width: calc((100% - 2 * 10px) / 3);\n    height: 95px;\n  }\n\n  input {\n    width: 130px;\n    height: 80px;\n    padding: 15px;\n    position: absolute;\n    opacity: 0;\n    cursor: pointer;\n    pointer-events: all;\n\n    &:checked + div {\n      border-color: var(--accent-red);\n    }\n  }\n"]))),I=V.ZP.div(j||(j=(0,S.Z)(["\n  ","\n"])),_),M=V.ZP.div(y||(y=(0,S.Z)(["\n  ","\n"])),_),O=V.ZP.div(Z||(Z=(0,S.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  button {\n    ","\n    width: 150px;\n\n    @media screen and (min-width: 1440px) {\n      margin: unset;\n    }\n  }\n\n  #reset-button {\n    background-color: var(--grey);\n    color: var(--light-text);\n    width: 150px;\n\n    @media screen and (min-width: 1440px) {\n      &:hover,\n      &:focus {\n        background-color: var(--input-background);\n        color: var(--light-text);\n      }\n    }\n  }\n"])),R.I8);var T=t(3329);const U=n=>{let{setPage:e,searchParams:t,setSearchParams:o}=n;const[i,a]=(0,r.useState)({}),c=(0,r.useRef)(null),l=(0,r.useRef)(null);(0,z.Z)(t,{});const s=n=>{let{target:e}=n;e.checked?a((n=>({...n,[e.name]:e.value}))):a((n=>{const{[e.name]:t,...r}=n;return{...r}}))},x=n=>{let{target:e}=n;a((n=>({...n,form:e.value})))};return(0,T.jsxs)(E,{onSubmit:n=>{n.preventDefault(),o({}),e(1),o({...i}),p("advertBlock")},ref:c,children:[(0,T.jsxs)(L,{children:["Location",(0,T.jsx)(P.ZP,{ref:l,placeholder:"Location",options:d.pr,onChange:n=>{n.length>0&&a((e=>({...e,location:n[0].value})))},color:"var(--accent-red)"}),(0,T.jsx)(C.Z,{width:20,height:20})]}),(0,T.jsxs)(N,{children:["Filters",(0,T.jsxs)(A,{children:["Vehicle equipment",(0,T.jsx)("hr",{}),(0,T.jsx)(D,{children:d._U.map(((n,e)=>{let{name:t,value:r,icon:o,text:i}=n;return(0,T.jsxs)(G,{children:[(0,T.jsx)("input",{type:"checkbox",name:t,value:r,onChange:s}),(0,T.jsxs)(M,{children:[(0,T.jsx)(o,{width:20,height:20,size:20})," ",i]})]},"".concat(i,"/").concat(e))}))})]}),(0,T.jsxs)(A,{children:["Vehicle type",(0,T.jsx)("hr",{}),(0,T.jsx)(D,{children:d.kr.map(((n,e)=>{let{value:t,icon:r,text:o}=n;return(0,T.jsxs)(G,{children:[(0,T.jsx)("input",{type:"radio",name:"type",value:t,onChange:x}),(0,T.jsxs)(I,{children:[(0,T.jsx)(r,{width:20,height:20})," ",o]})]},"".concat(o,"/").concat(e))}))})]})]}),(0,T.jsxs)(O,{children:[(0,T.jsx)("button",{type:"submit",children:"Search"}),(0,T.jsx)("button",{id:"reset-button",type:"button","aria-label":"Reset filter fields",onClick:()=>{var n,t;[...null===(n=c.current)||void 0===n?void 0:n.elements].forEach((n=>{"checkbox"!==n.type&&"radio"!==n.type||(n.checked=!1)})),null===(t=l.current)||void 0===t||t.clearAll(),o({}),a({}),e(1)},children:"Reset"})]})]})};var K=t(9258),H=t(9428);const J=()=>{const[n,e]=(0,r.useState)(1),[t,s]=(0,i.lr)(),[x,h]=(0,r.useState)(!0),u=(0,o.I0)(),g=(0,o.v9)(l.xU),v=(0,o.v9)(l.OG),m=(0,o.v9)(l.mS),f=(0,o.v9)(l.zh);(0,r.useEffect)((()=>{h(!0),n>=Math.ceil(m/d.VZ)&&h(!1),u((0,c.N)(t)),u((0,c.q)({page:n,limit:d.VZ,searchParams:t}))}),[u,n,m,t]);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(k.Z,{children:(0,T.jsxs)(q,{children:[(0,T.jsx)(U,{setPage:e,searchParams:t,setSearchParams:s}),(0,T.jsxs)(R.DR,{id:"advertBlock",children:[n>1&&(0,T.jsxs)(F,{id:"goBack",type:"button",onClick:()=>{e((n=>n-1)),p("advertBlock")},children:[(0,T.jsx)(a.x_l,{size:20,fill:"var(--text-color)"}),"Go back"]}),v.length<0||"Not found"===f?(0,T.jsx)(R.eE,{children:"No items"}):(0,T.jsx)(R.Au,{children:v.map((n=>(0,T.jsx)(R.Ss,{children:(0,T.jsx)(H.Z,{card:n})},n._id)))}),x&&!f&&v.length>0&&(0,T.jsx)(R.CF,{type:"button",onClick:()=>{n>=Math.ceil(m/d.VZ)||v.length<d.VZ?h(!1):(h(!0),e((n=>n+1)),p("goBack"))},children:"Load more"})]})]})}),g&&(0,T.jsx)(K.Z,{})]})}}}]);
//# sourceMappingURL=977.bc24b56f.chunk.js.map